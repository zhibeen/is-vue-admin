# 商品模块开发记录

## 2025-11-21 前端基础模块搭建

### 1. 系统登录与路由修复
- [x] 修复 Dashboard 路由 404 问题 (将绝对路径修正为相对路径)。
- [x] 登录页移除“快速用户选择”及默认填充，改为标准手动输入。
- [x] 登录后默认跳转路径改为 `/dashboard/workspace`。

### 2. 产品管理模块 (Product)
- [x] **创建产品页面 (`views/product/create.vue`)**:
    - 实现基于 Ant Design Vue 的分步表单 (Card 布局)。
    - **核心交互**: 
        - 分类 (Category) 级联选择 -> 动态加载属性表单。
        - 品牌 (Make) + 车型 (Model) 级联选择。
        - SKU 实时预览: 黄底黑字样式，支持 "Pre-generation" 预生成流水号逻辑。
    - **数据源**: 对接 Mock API。

### 3. 基础数据管理 (Master Data)
- [x] **品名分类管理 (`views/product/category/index.vue`)**:
    - 实现无限层级树形表格。
    - **双重编码**: 支持设置 SKU Code (3位数字) 和 Feature Code (业务特征码)。
    - 修复 Ant Design 图标引用问题，回退使用官方 `@ant-design/icons-vue`。
    - 修复 Grid 组件 (`Row`, `Col`) 导入缺失问题。

- [x] **车型管理 (`views/product/vehicle/index.vue`)**:
    - 实现三级层级管理: **Brand (品牌) -> Model (车型) -> Submodel (子车型)**。
    - **UI 交互**: 左右分栏布局，支持 Drill-down (钻取) 模式查看子车型。
    - 强制 Brand Code 为 2 位数字。

### 4. API 模拟 (`api/core/product.ts`)
- [x] 实现了 Category, Brand, Model, SKU Suffix 的 Mock 接口。
- [x] 实现了 `getCategoryAttributesApi` 模拟不同分类返回不同动态属性 Schema。
- [x] 实现了 `getNextSkuSerialApi` 模拟 SKU 流水号预生成。
- [x] 规范化 API 导出，移除 Namespace 写法，解决 Vite HMR 报错。

### 下一步计划 (Next Steps)
- [ ] 对接真实后端 API。
- [ ] 完善产品创建页面的提交逻辑。
- [ ] 增加产品列表页 (CRUD)。

